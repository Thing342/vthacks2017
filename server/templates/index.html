{% extends "main.html" %}
{% block title %}
    Main
{% endblock %}
{% block body %}
    <h1 class="header-line" onclick="window.location='/'">
        LetsGoEatAlready
    </h1>
    <hr style="margin: 0">
    <div class="mdl-grid">
        <div class="mdl-cell--3-col mdl-cell--12-col-tablet">
            <div class="mdl-card mdl-shadow--4dp" id="search-form" style="padding: 5px; width: 100%; margin: 10px; min-height: 0">
                <div class="mdl-card__title" style="margin: 0px">
                    <button class="mdl-button mdl-js-button mdl-button--icon" style="margin-right: 5px"
                            id="search-expand" onclick="$('#search_form').slideToggle('slow');">
                        <i class="material-icons">menu</i>
                    </button>
                    <h4 class="mdl-card__title-text">Search:</h4>
                </div>
                <form id="search_form" action="search" style="width: 100%; margin: auto">
                    <hr style="margin: 0">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="float: left; margin: auto">
                        <label class="mdl-textfield__label" for="loc">Location: </label>
                        <input id="input_address" class="mdl-textfield__input" type="text" name="address" required
                               value="">
                    </div>
                    <br>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <label class="mdl-textfield__label" for="radius">Max Distance (mi): </label>
                        <input class="mdl-textfield__input" type="number" id="input_radius" name="radius" required
                               pattern="-?[0-9]*(\.[0-9]+)?">
                        <span class="mdl-textfield__error">Input is not a number!</span>
                    </div>
                    <div style="margin: 10px">
                        <label class="headline" for="prefer">Favor restaurants that are: </label><br>
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="prefer-1">
                            <input type="radio" id="prefer-1" class="mdl-radio__button" name="prefer"
                                   value="prominence">
                            <span class="mdl-radio__label">Popular</span>
                        </label>
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="prefer-2">
                            <input type="radio" id="prefer-2" class="mdl-radio__button" name="prefer" value="distance">
                            <span class="mdl-radio__label">Close</span>
                        </label>
                    </div>
                    <div>
                        <label for="maxprice">Max Price:</label>
                        <p style="width:300px">
                            <input class="mdl-slider mdl-js-slider" type="range" id="maxprice" name="maxprice" min="1"
                                   max="4" value="4"
                                   step="1">
                        <div id="price-slider-tip" class="mdl-tooltip" data-mdl-for="maxprice">Lowest (1) to Highest
                            (4)
                        </div>
                        </p>
                    </div>

                    <input class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                           type="submit" style="margin: 5px">
                </form>
            </div>
        </div>
        <div class="mdl-cell--9-col mdl-cell--12-col-tablet">
            {% block results %}
                <div style="padding: 20px">
                    <h5>2017 VTHacks Submission - LetsGoEatAlready by Wes Jordan</h5>

                    <p>This is a small webapp that I created to address my family's general inability to come to a
                        consensus
                        when it comes to
                        finding a place to eat. The way it works is that it searches restaurants near you based on the
                        parameters you give it
                        using the Google Places API and then returns exactly four places from you to choose. If you
                        don't
                        like one of the
                        options displayed, you can simply click it away and another one will come back and take its
                        place.</p>

                    <p>The goal of this application is to combat you or your group's dawdling indecisiveness by reducing
                        your number of
                        options and make it easy to come to a decision when the only thing you can agree on is that
                        you're
                        all starving. It
                        also encourages visiting new places by selecting some that may be lesser known.</p>

                    <p>The application works off of a Flask backend that serves and renders most of the page's UI using
                        Jinja2 templates.
                        New places are added via AJAX requests using session verification, using info from Google's
                        places
                        API. Results from
                        from the API are cached in Firebase in order to limit API calls.</p>
                </div>
            {% endblock %}
        </div>
    </div>
{% endblock %}
